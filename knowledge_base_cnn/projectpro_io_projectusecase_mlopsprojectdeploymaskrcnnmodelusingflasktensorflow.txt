SOURCE_URL: https://www.projectpro.io/project-use-case/mlops-project-deploy-mask-rcnn-model-using-flask-tensorflow
SUJET: CNN_DEEP_LEARNING

# MLOps Project for a Mask R-CNN on GCP using uWSGI Flask
MLOps on GCP - Solved end-to-end MLOps Project to deploy a Mask RCNN Model for Image Segmentation as a Web Application using uWSGI Flask, Docker, and TensorFlow.
## Project Outcomes
- Understanding of the MLOps workflow for automating ML model deployment
- How to containerize and package ML applications using Docker?
- Implementation of automated building and publishing of an image to the Artifact Registry using Cloud Build
- Creation of a GCS bucket for storing large ML models to be included in the build
- How to create a GKE cluster using Google Cloud Shell
- How to create a Pub/Sub trigger in Cloud Run Functions for new deployments?
- Learn how Pub/Sub asynchronous and event-driven communication works
- Understanding of Cloud Run Function logic to automate GKE deployment using Pub/Sub triggers?
- Implementation of CI/CD automation using Cloud Build triggers on code changes committed to GitHub
- How to validate ML deployments on GKE through POST and GET requests
Get started today
Request for free demo with us.
## Architecture Diagram
## Topics
- Introduction to ML Model Deployment 08m
- MLOps in GCP 11m
- Architecture Diagram 09m
- Introduction to Docker 13m
- Introduction to Kubernetes 09m
- Introduction to GCP Cloud Build 07m
- Introduction to Artifact Registry 08m
- Introduction to Pub Sub 06m
- Introduction to Cloud Run Function 07m
- Introduction to GKE 06m
- Introduction to uWSGI 08m
- Service Account in GCP 04m
- Creating a GitHub Repository 11m
- Workaround for Model File Part 1 09m
- Workaround for Model File Part 2 07m
- Cloud Build Workflow File 10m
- Dockerfile 09m
- Flask and uWSGI Model Files Part 1 13m
- Flask and uWSGI Model Files Part 2 14m
- Creating Repo in Artifact Registry 03m
- Creating GKE 07m
- Configuring GKE 10m
- Creating a Pub Sub Topic 05m
- Auto - Scaling in Cloud Run 13m
- Creating Cloud Run Function 09m
- Configuring Cloud Run Function 09m
- Creating Cloud Build Trigger 08m
- Workflow Automation 15m
- Deployment Testing  GET and POST 10m
## Source code + Project materials
## Project Description
Business Overview
In the field of deploying and automating machine learning solutions, MLOps plays a vital role in making models scalable, reliable, and continuously adaptable to production needs. The key to using Google Cloud services such as Cloud Build, Artifact Registry, Cloud Run, and GKE allows organizations to streamline their ML workflows and focus on delivering impactful insights and business value.
This project demonstrates an end-to-end MLOps pipeline to deploy a Mask R-CNN model for Image Segmentation as a web application using Flask with uWSGI, Docker, and TensorFlow. We recommend having a basic understanding of the previous project Image Segmentation using Mask R-CNN with Tensorflow , as this forms the foundation for the deployment process.
Aim:
The project aims to automate the deployment of the machine learning model using Google Cloud Platform (GCP) services, which enables efficient model packaging, deployment, and monitoring through CI/CD workflows. The benefit of building MLOps pipelines using GCP services, such as Cloud Build, Artifact Registry, Cloud Run Function, GCP Pub/Sub, and GKE, the pipeline ensures reproducibility and seamless continuous integration for managing ML model deployment.
Prerequisite Project:
- Image Segmentation using Mask R-CNN with Tensorflow
Prerequisites:
It is recommended to have a basic knowledge of the following:
- Python
- Flask
- Basic understanding of deployment
- Docker
- Basics of GCP
Data Description:
For this project, sample image files will be utilized as test data to validate the deployed application running on Kubernetes. The objective is to verify whether the system can successfully process the input images and return the segmentation results in real time. The application supports common image formats such as JPG, PNG, and TIFF.
Tech Stack:
➔ Services: Google Cloud Build, Artifact Registry, Pub/Sub, Google Kubernetes Engine (GKE), Cloud Run, Docker
➔ Libraries: TensorFlow, PyTorch, Matterport Mask R-CNN (mrcnn), Matplotlib, Flask, uWSGI, OS
Note:
- We recommend monitoring GCP Services and deleting those that are not in use after project execution.
- GCP services used in this project may incur charges. It is essential to review the official GCP documentation and check Cost Breakdown documentation to understand the pricing structure and potential costs associated with different resources and usage patterns.
Approach:
In this project, the MLOps pipeline will automate the deployment and management of containerized ML applications using Google Cloud Platform (GCP) services.
1. Local Development and Dockerization
- The ML application was initially developed and tested locally, where all dependencies were installed and verified.
- A Docker container was created to package the model, Flask API, and all required libraries into a portable runtime environment.
2. Source Control and Pipeline Triggering
- In the first stage, all ML application code, configuration files, and deployment scripts were stored in a GitHub repository.
- Every new commit to the repository automatically triggers the CI/CD pipeline configured in Google Cloud Build.
- Since a large model file cannot be stored in GitHub, it was uploaded to Google Cloud Storage (GCS), which Cloud Build accessed during the build process to include the model in the Docker image.
3. Build Stage (Cloud Build, Artifact Registry, Pub/Sub)
- In the second stage, Google Cloud Build was used to build the Docker image for the ML application and push it to Artifact Registry.
- Artifact Registry served as the centralized container registry for storing and managing Docker images.
- After a successful build, Cloud Build published a message to a Pub/Sub topic, containing metadata about the new Docker image.
4. Deploy Stage (Cloud Run Function & GKE)
- In the third stage, a Cloud Run Function was configured to listen to Pub/Sub messages and automatically pull the latest Docker image from Artifact Registry.
- The function updated the running application on Google Kubernetes Engine (GKE) by deploying the new image version to active pods.
- This automated update process ensured that every code or model change was seamlessly deployed without manual intervention.
5. Continuous Integration and deployment
- Every commit initiates a full CI/CD cycle, automation, building, and deployment on GCP.
## Unlimited 1:1 Live Interactive Sessions
- 30-minute live session Schedule 30-minute live interactive 1-to-1 video sessions with experts.
Schedule 30-minute live interactive 1-to-1 video sessions with experts.
- No extra charges Unlimited number of sessions with no extra charges. Yes, unlimited!
Unlimited number of sessions with no extra charges. Yes, unlimited!
- We match you to the right expert Give us 72 hours prior notice with a problem statement so we can match you to the right expert.
Give us 72 hours prior notice with a problem statement so we can match you to the right expert.
- Schedule recurring sessions Schedule recurring sessions, once a week or bi-weekly, or monthly.
Schedule recurring sessions, once a week or bi-weekly, or monthly.
- Pick your favorite expert If you find a favorite expert, schedule all future sessions with them.
If you find a favorite expert, schedule all future sessions with them.
- Use the 1-to-1 sessions to Troubleshoot your projects Customize our templates to your use-case Build a project portfolio Brainstorm architecture design Bring any project, even from outside ProjectPro Mock interview practice Career guidance Resume review
- Troubleshoot your projects
- Customize our templates to your use-case
- Build a project portfolio
- Brainstorm architecture design
- Bring any project, even from outside ProjectPro
- Mock interview practice
- Career guidance
- Resume review
### Land Your Dream Job Faster
AI-powered interview prep with recruiter connections
### Upload Resume & Job Role
Submit your resume and target job description
### Tailored Mock Interview
AI conducts interview based on your resume
### Actionable Feedback
Detailed report with strengths and improvements
### Unlimited Practice
Record multiple attempts, all saved
### Select Best Performance
Choose your strongest interview
### Connect with Recruiters
Shared with 121+ top tech recruiters conditions apply*
## Benefits
250+ end-to-end project solutions
Each project solves a real business problem from start to finish. These projects cover the domains of Data Science, Machine Learning, Data Engineering, Big Data and Cloud.
15 new projects added every month
New projects every month to help you stay updated in the latest tools and tactics.
500,000 lines of code
Each project comes with verified and tested solutions including code, queries, configuration files, and scripts. Download and reuse them.
Cloud Lab Workspace
Unlimited 1:1 sessions
Technical Support
Chat with our technical experts to solve any issues you face while building your projects.
7 Days risk-free trial
We offer an unconditional 7-day money-back guarantee. Use the product for 7 days and if you don't like it we will make a 100% full refund. No terms or conditions.
Payment Options
0% interest monthly payment schemes available for all countries.
## Customer Reviews
Harsh Navalgund
Associate Software Engineer
Aravind Maguluri
Senior Associate - Projects
Abhishek SIngh
Senior Data Analyst
Pradip Wasrei
Analyst
Anand Kumpatla
Advisor, Data Engineer
Piyush Shukla
AI Engineer
Deepak Kumar Digar
QA Manager
Savvy Sahai
Apprentice BI & Data Engineer
Maddipudi Prabhudev
Data Scientist
Dao Tran
Data Analyst
Abhinav
Consultant - Data Engineering
Vatsal Raicha
Robert Nicholas Moss
Data Scientist/Quantitative Researcher
Diego Sabajo
Data Scientist / ML Engineer
Venkata Vedula
Business Consulting Manager
Suneeta Modekurty
Sr. Consultant (Data Science - Generative AI)
Shady Rafat
AWS Engineer
Swati Patra
AVP
Swagat Mishra
Karthi Jeyabalan
Technical Strategist
Swapnil Naik
Senior Manager, Technical Program management
Erick Yegon
Global Director of Performance, Evidence and Insights
Himanshu Dandle
Senior Engineer
Heramb Ithape
Manager of Machine Learning
## Comparison with other platforms
### We provide ready-made project templates that solve real business problems, end-to-end and comes with solution code,explanation videos, cloud lab environment and tech support.
## Our expert panel
### Bertil Hatt
Head of Data science, OutFund
### Guang Yang
Senior Applied Scientist, Amazon
### Varun Jain
Senior Data Engineer, Publicis Sapient
### Hariharan Sampathkumar
Senior Machine Learning Engineer | Data Scientist
### Ana Garcia
Director of Data Science & AnalyticsDirector, ZipRecruiter
### Diego Argueta
Senior Data Platform Engineer, GoodRx
### Nihit Saxena
CEO at Datastunt?Labs
### Shraddha Surana
Global Data Community Lead | Lead Data Scientist, Thoughtworks
### Divya Sistla
Data Engineering Lead - Uber
### Mir Muntasar Ali Agha
Senior Data Engineer, National Bank of Belgium
### Dina Jankovic
Data Science, Yelp
### James Briggs
Dev Advocate, Pinecone and Freelance ML
### Ted Anderson
Director of Business Intelligence , CouponFollow
### Brian Zhu
Big Data Engineer, Beyond Limits
### Carlos Contreras
Big Data & Analytics architect, Amazon
### Shaurya Uppal
Data Scientist, Inmobi
### Kirk Borne
Chief Science Officer at DataPrime, Inc.
### Tory Borsboom-Hanson
Data Science Consultant, Fractal Analytics
### Pawan Kumar Yerravelly
Data Engineer - Capacity Supply Chain and Provisioning, Microsoft India CoE
### Balram Singh
Data Engineering Manager, Microsoft Corporation
### Gareth Morinan
Chief Scientific Officer, Machine Medicine Technologies
### Stefan Jenkins
Data Engineer, Microsoft
### Saniya Zahid
Principal Software Engineer, Afiniti
### Muhy Eddin Zater
Senior Data Scientist, Mawdoo3 Ltd
### Sara Beck
Head of Data Science, Slated
### Kedar Kanhere
Data Scientist, Credit Suisse
### Anh Le
Data and Blockchain Professional
### Kai Tarafdar
NLP Engineer, Speechkit
### Camille Girabawe
Machine Learning Manager, Adobe
### Deepak Sahu
Senior Data Engineer, Slintel-6sense company
### Amedeo Biolatti
Data Scientist, SwissRe
### Benjamin Larson
Principal Data Scientist - Cyber Security Risk Management, Verizon
### Mehmet Akgun
University of Economics and Technology, Instructor
### Victoria Williams
Senior Data Engineer, Hogan Assessment Systems
### Manoj Kumar
Data Scientist, Boeing
## RecommendedProjects
Recommended Projects
Data Science
Data Science Projects in Python
Machine Learning Projects in Python
Deep Learning Projects
## Latest Blogs
How to transition from Software Engineer to AI Engineer?
Learn how to transition from a software engineer to an AI engineer role with industry-grade projects by ProjectPro.
How To Become An AI Engineer Without A Degree?
A clear roadmap on how to become an AI Engineer without a degree | ProjectPro
How to Become an Agentic AI Developer?
A beginner-friendly guide to becoming an agentic AI developer, from learning essential Python and AI frameworks to mastering agentic systems through projects.
View all blogs
## We power Data Science & Data Engineeringprojects at
## Join more than115,000+ developers worldwide
Get a free demo
Please Enter Your Email to Get Started
ProjectPro
About us
Contact us
Privacy policy
User policy
Write for ProjectPro